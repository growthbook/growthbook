# Growth Book's Statistics

This page is a summary verison of the statistical models used by Growth Book. If you 
want to read more detail, you can see the [full white paper](https://www.growthbook.io/docs/GrowthBookStatsEngine.pdf).


## Bayesian Statistics

Bayesian statistics offers some distinct advantages over the frequentist approach. With 
frequentist statistics, to maintain the validity of the statistics, you must decide on 
the sample size in advance before running an experiment- known as a fixed horizon. This 
means you cannot stop a test early, nor run it for longer. If you do look at the test 
and decide to act upon it, you run into the peeking problem, which increases your 
chances of Type I errors (false positives). Furthermore the results of a frequentist 
experiment are  P-value and confidence intervals. These measures are very difficult to 
interpret correctly, and even harder to explain to others. 

Bayesian statistics does not have these disadvantages. There are no fixed horizons, and 
you can look at the results and take action whenever you like and still have accurate 
statistics. In addition, the results are very easy to explain and interpret. Everything 
has some probability of being true and you adjust the probabilities as you gather data 
and learn more about the world.  This matches up with how most people think about 
experiments - *"there’s a 95% chance this new button is better and a 5% chance it’s 
worse."*

## Priors and Posteriors. 

At Growth Book, we use an Uninformative Prior.  This simply means that before an 
experiment runs, we assume both variations can have any value and have an equal chance of 
being higher/lower than the other one. As the experiment runs and you gather data, the 
Prior is updated to create a Posterior distribution. We use various distributions 
depending on the type of data. For Binomial metrics (simple yes/no conversions event) we 
use a Beta-Binomial Prior. For count, duration, and revenue metrics, we use a Gaussian 
(or Normal) Prior. You can read more details in the [white paper](https://www.growthbook.io/docs/GrowthBookStatsEngine.pdf). 

## Change in Metrics

Growth Book uses two methods to estimate the change in a metric, Gaussian quadratures 
and CLT approximations. This produces an approximate distribution of the uplift 
(or downlift) for each metric. We show this as a *credible interval*, which is the Bayesian 
equivalent to confidence intervals. This distribution is shown as a violin plot in our UI. 

![Violin plot of a metrics change](/images/violin-plot.png)

We have found this tends to lead to more accurate interpretations. For example, instead of 
just reading the above as *"it’s 17% better"*, people tend to factor in the error bars (*"it’s 
about 17% better, but there’s a lot of uncertainty still"*).

## Risk

Bayesian statistics gives us another advantage, which is showing the *Bayesian Risk* or 
expected loss. This Risk can be interpreted as *“If I choose B and it’s actually worse, how 
many conversions am I expected to lose?”*.  This lets the human decision maker weigh all of 
the external factors together with the Risk to determine the stopping point of the experiment.

## Data Quality Checks

In addition to answering the common A/B test questions, Growth Book performs data quality 
checks to ensure the statistical inferences are valid and ready for interpretation.  
We currently run two checks: Sample Ratio Mismatch (SRM) and minimum data thresholds. 
These checks help ensure that there are no implementation errors with an experiment. 

![SRM check failed](/images/SRM-check-failed.png)

## Dimentional Breakdowns

There is often a desire to drill down into results to see how segments or dimensions 
of your users were affected by an A/B test variation. There are some caveats in doing this 
analysis. While Bayesian statistics is largely immune from multiple comparison problems 
(and as such requires no Bonferroni corrections), sample size often causes issues with the 
statistics. Growth Book allows dimensional breakdown of the results, but we do not run 
statistical analysis, instead we show the raw numbers and changes. Care should be taken 
in putting too much meaning into these dimensional results. The two most common uses of 
dimensional breakdowns are as an input for further experiments specifically targeted to 
those dimensions, or in identifying errors, for instance if metrics are down for users of 
one particular browser. 


## Conclusion

Growth Book utilizes a combination of Bayesian statistics, fast estimation techniques, 
and data quality checks to robustly analyze A/B tests at scale and provide intuitive 
results to decision makers. The implementation is fully open source under an MIT license 
and available on GitHub. You can also read more about the statistics and equations used 
in the [white paper](https://www.growthbook.io/docs/GrowthBookStatsEngine.pdf). 



 

