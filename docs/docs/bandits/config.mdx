---
title: Setting up a Bandit
slug: /bandits/config
---

Bandits are run very similarly to Experiments in GrowthBook. There are three key differences:

- We require you use **Sticky Bucketing** in your SDK to ensure consistent user assignment
- We require you to select a **Decision Metric** to optimize towards
- You have to decide the exploration window and update cadence for your Bandits

### Pre-requisite: Sticky Bucketing

All GrowthBook Bandits (at least while in Beta) require you to enable [Sticky Bucketing](/app/sticky-bucketing). which ensures users are consistently assigned the same variation even if they return to the experiment later and the variation traffic has changed. Variation weights change frequently in a Bandit, so Sticky Bucketing is important to ensure consistent user experiences.

Furthermore, you should set up your Sticky Bucketing service to store variations in the same place that you store and track your user identities. For example, if you plan on running a bandit using cookie-based identifiers, we strongly recommend using a cookie-based Sticky Bucketing approach to ensure that both the hash attribute and the sticky bucketing identifiers are kept in sync.

Follow the instructions in the [Sticky Bucketing](/app/sticky-bucketing) guide to set up Sticky Bucketing in your SDK and enable it in GrowthBook.

## Creating a Bandit

Once Sticky Bucketing is enabled, you can now create a new Bandit from the Bandits page in the sidebar.

### 1. Selecting an Assignment Attribute

<img
  src="/images/bandits/bandit-config-1.png"
  alt="Configuring Bandit Hash Attributes and Number of Variations"
  style={{ width: 600, margin: "0 auto" }}
/>

First, select the assignment Attribute used to randomize users into variations and that maps to the metrics you will use to track user behavior.

:::note

Bandits work best when your assignment Attribute (randomization ID) is consistent with the service you use for sticky bucketing. If you use a cookie-based sticky bucketing approach, we strongly recommend using a cookie-based identifier type for randomization (e.g. anonymous IDs), or else you may have Multiple Exposures problems in your Bandit.

:::

### 2. Setting the Number of Variations

Select the number of variations you want to set up. The Bandit works well in cases where you have 4 or more arms and you're looking to weed out poor performers quickly, but if you have too many arms for your amount of traffic, then it may take a long time for the Bandit to identify a winner.

### 3. Selecting a Decision Metric

The Decision Metric is the metric that the Bandit will optimize towards. After each **reweighting** update, the Bandit will assign more traffic to the variations that are performing better on the Decision Metric. It should be a metric that you care about improving and that you can measure quickly after the user is exposed to the experiment.

An ideal decision metric has the following properties:

- It has a **short conversion window** and can be observed in a relatively short time frame. Short conversion windows allow the bandit to update with accurate information; a metric that takes longer to be observed will slow the Bandit down.
- If it is a proportion metric, the conversion rate should not be super low or super high. These extreme conversion rates can result in Bandits that are very slow to converge as a lot of data is needed to adequately separate the Bandit variations.

<img
  src="/images/bandits/bandit-config-2.png"
  alt="Configuring Bandit Decision Metric and Exploration Window"
  style={{ width: 600, margin: "0 auto" }}
/>

### 4. Set the exploration window and update cadence

The Bandit needs to know how long it should collect data for before beginning to update variation weights. This is called the **Exploration Window**. After the Exploration Window, the Bandit will begin to update variation weights at a set **Update Cadence**.

**Exploration Window**

Your Exploration Window should be long enough that you get enough traffic into each arm before the Bandit begins optimizing traffic. We _require_ at least 100 users per variation before we make any updates to our Bandit.

You should make your Exploration Window long enough to:

- Get a good number of conversions or metric values to begin estimating your Decision Metric. We recommend having at least 40 conversions per variation before you begin updating your Bandit. If your conversion rate tends to be around 10%, then we recommend picking a window long enough to get 400 units per variation.
- Get a decent mix of different units into your experiment (e.g. running a 8 hour Exploration Window may only capture users in particular time zones before it begins updating).

**Update Cadence**

The minimum update cadence you can set in GrowthBook Bandits is 15 minutes. However, because each update requires tracking events to flow from your users to your data warehouse, and then into GrowthBook via queries, in practice your data may take longer to materialize and the practical minimum update may be longer.

Furthermore, the fewer units that enter your Bandit in each period, the less valuable it is to update the Bandit frequently.

Unless you have a compelling reason to update your Bandit more frequently, we recommend setting your update cadence to daily or even longer, depending on the goals of your bandit. Of course, longer update windows mean that the Bandit will not be able to adapt as quickly to lower traffic to losing variations, but it can be more stable.

### 5. Configure your different Variations

After you create your bandit, you'll be able to configure the different variations each arm of the Bandit will serve.

Use either Feature Flags, the Visual Editor, or URL Redirects to set up your different variations. You can also use the API to set up your variations.

<img
  src="/images/bandits/bandit-config-3.png"
  alt="Linking Bandit Changes"
  style={{ width: 650, margin: "0 auto" }}
/>
