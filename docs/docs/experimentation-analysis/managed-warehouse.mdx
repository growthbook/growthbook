---
title: Managed Warehouse
description: Learn about GrowthBook Cloud's Managed Warehouse service
sidebar_label: Managed Warehouse
slug: /app/managed-warehouse
---

# Managed Warehouse

GrowthBook Cloud offers a fully managed data warehouse and event tracking pipeline. This is primarily intended for users who want to use GrowthBook's experimentation and analysis features without needing to set up their own data warehouse.

## Benefits

- **Fully Managed**: No need to worry about infrastructure management, scaling, or maintenance.
- **Seamless Integration**: One-click installation + built-in tracking in our SDKs.
- **Raw SQL Access**: Use our SQL Explorer to run custom queries against your data.

## How it Works

We use ClickHouse, a database optimized for real-time analytics, to store your event data. The process is simple:

1. You send analytics events to our scalable ingestion API
2. We enrich and store them in ClickHouse within seconds
3. You can query the data with SQL, define metrics, and analyze experiment results with our powerful stats engine.

## Sending Events

There are 2 ways to send events to GrowthBook Cloud's Managed Warehouse:

1. With our [SDKs](#with-sdks) (limited language support)
2. With our [Ingestion API](#ingestion-api)

### With SDKs

The following SDKs have a built-in plugin to automatically send events.

- [HTML Script Tag](#html-script-tag)
- [Client-Side JavaScript / React](#client-side-javascript--react)
- [Node.js](#nodejs)

For everything else, use the [Ingestion API](#ingestion-api).

When the plugin is added, these SDKs will automatically send feature usage and experiment view events to GrowthBook. They also expose a helper method to log additional custom events with optional properties.

All of the attributes in the SDK are sent along with events as context. Because of this, make sure you do not include any sensitive information in your attributes (or if you do, anonymize it first).

#### HTML Script Tag

Simply add `data-tracking="growthbook"` to your script tag to enable.

```html
<script async
  data-client-key="YOUR_CLIENT_KEY"
  data-tracking="growthbook"
  src="https://cdn.jsdelivr.net/npm/@growthbook/growthbook/dist/bundles/auto.min.js"
></script>
```

To track additional events, use the `window.gbEvents` global variable. You can push events to this array, and they will be tracked.

```html
<script>
  // Ensure the global variable exists
  window.gbEvents = window.gbEvents || [];

  // Simple (no properties)
  window.gbEvents.push("Page View");

  function handleSignUpClick() {
    // With custom properties
    window.gbEvents.push({
      eventName: "Button Click",
      properties: {
        button: "Sign Up"
      }
    });
  }
</script>
<button onclick="handleSignUpClick()">Sign Up</button>
```

#### Client-Side JavaScript / React

Use the `growthbookTrackingPlugin` to enable tracking. We recommend also using the `autoAttributesPlugin` to include many common attributes in your events (browser, session_id, etc.).

```js
import { GrowthBook } from "@growthbook/growthbook";
import {
  autoAttributesPlugin,
  growthbookTrackingPlugin
} from "@growthbook/growthbook/plugins";

const gb = new GrowthBook({
    clientKey: "YOUR_CLIENT_KEY",
    plugins: [
        autoAttributesPlugin(),
        growthbookTrackingPlugin()
    ]
});
```

Use the `logEvent` method to track additional custom events:

```js
// Simple (no properties)
gb.logEvent("Page View");

// With custom properties
gb.logEvent("Button Click", {
  button: "Sign Up",
});
```

#### Node.js

Use the `growthbookTrackingPlugin` to enable tracking:

```js
import { GrowthBookClient } from "@growthbook/growthbook";
import { growthbookTrackingPlugin } from "@growthbook/growthbook/plugins";

const gb = new GrowthBookClient({
  clientKey: process.env.GROWTHBOOK_CLIENT_KEY,
  plugins: [growthbookTrackingPlugin()],
});
```

Use the `logEvent` method to track additional custom events:

```js
gb.logEvent("Sign Up", {
  accountPlan: "pro"
}, userContext);
```

User-scoped instances also have a `logEvent` method that doesn't require the user context:

```js
req.growthbook.logEvent("Sign Up", {
  accountPlan: "pro"
});
```

### Ingestion API

You can also send events directly to our ingestion API. Pass an array of event objects, each with the following properties:

- **event_name**: The name of the event (e.g., "Purchase", "Button Click")
- **properties_json**: Optional key-value pairs with properties of the event itself
- **context_json**: Optional key-value pairs about the user or context that caused the event

```bash
curl -X POST "https://us1.gb-ingest.com/track?client_key=YOUR_CLIENT_KEY" \
-H "Content-Type: application/json" \
-d '[{
  "event_name": "Purchase",
  "properties_json": {
    "amount": 100
  },
  "context_json": {
    "user_id": "12345"
  }
}]'
```

Make sure you do not include any sensitive information in your events (or if you do, anonymize it first).

#### Experiment View Events

In order to use GrowthBook's experiment analysis features, you must send an event every time a user views an experiment. It must match the following format:

- **event_name**: Must be `"Experiment Viewed"`
- **properties_json**: Must include the following key/value pairs:
  - `experimentId`: The ID of the experiment being viewed
  - `variationId`: The ID of the variation that was shown to the user

In addition, you must include `context_json` with the user attributes that were used to evaluate the experiment, plus any attributes you want to use as dimensions for slicing and dicing.

#### Feature Usage Events

To take advantage of GrowthBook's feature usage analytics, you must send an event every time a feature is evaluated with a specific format.

- **event_name**: Must be `"Feature Evaluated"`
- **properties_json**: Must include the following key/value pairs:
  - `feature`: The name of the feature being evaluated
  - `value`: The feature's value that was returned from the evaluation
  - `source`: (optional) The source of the feature value (e.g., "defaultValue", "experiment", "force")
  - `ruleId`: (optional) The ID of the specific rule that was used to evaluate the feature (or `$default` if the default value was used)
  - `variationId`: (optional) If the value came from an experiment, the ID of the variation that was returned

#### Limits

When calling the ingestion API directly, please be aware of the following default limits:

- Maximum of 100 events per request
- Maximum of 1 request per second

If you need to send more than this, please reach out and we can increase your limits.
