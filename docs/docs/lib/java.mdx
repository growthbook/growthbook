---
title: Java SDK
description: GrowthBook SDK for Java
sidebar_label: Java
slug: java
toc_max_heading_level: 5
---

import ExternalLink from '@site/src/components/ExternalLink'
import CodeTabsAddDependencyPartial from '@site/src/partials/java/_code-tabs-add-dependency.mdx'
import CodeTabsGBContextBuilderPartial from '@site/src/partials/java/_code-tabs-gbcontext-builder.mdx'
import CodeTabsGBContextStaticCreatePartial from '@site/src/partials/java/_code-tabs-gbcontext-static-create.mdx'
import CodeTabsUserAttributesPartial from '@site/src/partials/java/_code-tabs-user-attributes.mdx'
import CodeTabsUsingFeaturesPartial from '@site/src/partials/java/_code-tabs-using-features.mdx'
import CodeTabsTrackingCallbackPartial from '@site/src/partials/java/_code-tabs-tracking-callback.mdx'
import CodeTabsRunExperimentPartial from '@site/src/partials/java/_code-tabs-run-experiment.mdx'
import CodeTabsExperimentResultCallbackPartial from '@site/src/partials/java/_code-tabs-subscribe-experiment-run.mdx'
import CodeTabsExperimentResultSubscribeMultipleCallbackPartial from '@site/src/partials/java/_code-tabs-subscribe-multiple.mdx'

This supports Java applications using Java version 1.8 and higher.

:::info Beta

The GrowthBook Java SDK is currently in beta. If you experience any issues, let us know either on [Slack](https://slack.growthbook.io/) or [create an issue](https://github.com/growthbook/growthbook/issues/new/choose).

:::

## Installation

[![](https://jitpack.io/v/growthbook/growthbook-sdk-java.svg)](https://jitpack.io/#growthbook/growthbook-sdk-java)

### Gradle

To install in a Gradle project, add Jitpack to your repositories, and then add the dependency with the latest version to your project's dependencies.

<CodeTabsAddDependencyPartial />

### Maven

To install in a Maven project, add Jitpack to your repositories:

```xml
<repositories>
    <repository>
        <id>jitpack.io</id>
        <url>https://jitpack.io</url>
    </repository>
</repositories>
```

Next, add the dependency with the latest version to your project's dependencies:

```xml
<dependency>
    <groupId>com.github.growthbook</groupId>
    <artifactId>growthbook-sdk-java</artifactId>
    <version>0.1.1</version>
</dependency>
```

## Usage

There are 2 steps to initializing the GrowthBook SDK:

1. Create a GrowthBook context `GBContext` with the features JSON and the user attributes
2. Create the `GrowthBook` SDK class with the context

### GrowthBook context

The GrowthBook context `GBContext` can be created either by implementing the builder class, or by implementing the static method `create()`.

- the `featureJson` method takes a JSON string of the features. See [Features](#features) below.
- the `attributesJson` method takes a JSON string of the user attributes. See [Attributes](#attributes) below.

#### Using the Builder class

The builder is the easiest to use way to construct a `GBContext`, allowing you to provide as many or few arguments as you'd like:

<CodeTabsGBContextBuilderPartial />

#### Using the static create() method

You can also use the static method `create()` if you prefer, which will require you to pass all arguments. All arguments passed are available to be set using the builder above:

<CodeTabsGBContextStaticCreatePartial />

The implementation of this method actually uses [the builder mentioned above](#using-the-builder-class).

For complete examples, see the [Examples](#examples) section below.

#### Features

The features JSON is equivalent to the `features` property that is returned from the SDK Endpoint for the specified environment. You can find your endpoint on the [Settings &rarr; API Keys page <ExternalLink/>](https://app.growthbook.io/settings/keys).

- You can read more [about features here](/app/features)
- You can see an [example features JSON here <ExternalLink/>](https://github.com/growthbook/examples/blob/main/jvm-spring-web/src/main/resources/static/features.json)

#### Attributes

Attributes are a JSON string. You can specify attributes about the current user and request. Here's an example:

<CodeTabsUserAttributesPartial />

If you need to set or update attributes asynchronously, you can do so with `Context#attributesJson` or `GrowthBook#setAttributes`. This will completely overwrite the attributes object with whatever you pass in. Also, be aware that changing attributes may change the assigned feature values. This can be disorienting to users if not handled carefully.

#### Tracking Callback

Any time an experiment is run to determine the value of a feature, we call a function so you can record the assigned value in your event tracking or analytics system of choice.

<CodeTabsTrackingCallbackPartial />

### Using Features

Every feature has a "value" which is assigned to a user. This value can be any JSON data type. If a feature doesn't exist, the value will be `null`.

There are 4 main methods for evaluating features:

- **isOn()** - returns a boolean for a truthy value
- **isOff()** - returns a boolean for a falsy value
- **getFeatureValue()** - returns a generic value. Type is inferred based on the `defaultValue` argument provided.
- **evalFeature()** - returns a feature result `FeatureResult<T>`. The value type needs to be specified in the generic parameter.

<CodeTabsUsingFeaturesPartial />

The `evalFeature` method returns a `FeatureResult<T>` object with more info about why the feature was assigned to the user. The `T` type corresponds to the value type of the feature.

`FeatureResult<T>` It has the following getters:

- **getValue()** - a nullable value of the feature
- **getSource()** - a nullable enum for the source of the result. Why the value was assigned to the user
- **getRuleId()** - a nullable string ID of the rule that was used to assign the value to the user
- **getExperiment()** - a nullable experiment `Experiment<T>`, if the value resulted due to an experiment
- **getExperimentResult()** - a nullable experiment result `ExperimentResult<T>`, if the value resulted due to an experiment

As expected in Kotlin, you can access these getters using property accessors.

### Inline Experiments

Instead of declaring all features up-front in the context and referencing them by IDs in your code, you can also just run an experiment directly. This is done with the `growthbook.run(Experiment<T>)` method.

<CodeTabsRunExperimentPartial />

#### Inline experiment return value

An `ExperimentResult<T>` is returned where `T` is the generic value type for the experiment.

There's also a number of methods available:

- **getValue()** - a nullable value of the feature
- **getVariationId()** - index of the variation used, if applicable
- **getInExperiment()** - boolean if they were in the experiment
- **getHashAttribute()** - attribute used for hashing, defaulting to `id`
- **getHashValue()** - the hash value used for evaluating the experiment, if applicable
- **getFeatureId()** - get the feature key
- **getHashUsed()** - boolean if a hash was used to evaluate the experiment

The `getInExperiment()` flag will be false if the user was excluded from being part of the experiment for any reason (e.g. failed targeting conditions).

The `getHashUsed()` flag will only be true if the user was randomly assigned a variation. If the user was forced into a specific variation instead, this flag will be false.

As expected in Kotlin, you can access these getters using property accessors.

### Subscribing to experiment runs with the ExperimentRunCallback

You can subscribe to experiment run evaluations using the `ExperimentRunCallback`.

<CodeTabsExperimentResultCallbackPartial />

Every time an experiment is evaluated when calling `growthBook.run(Experiment)`, the callbacks will be called.

You can subscribe with as many callbacks as you like:

<CodeTabsExperimentResultSubscribeMultipleCallbackPartial />

## Code Examples

- [JVM with Spring Web example <ExternalLink/>](https://github.com/growthbook/examples/tree/main/jvm-spring-web)

## Further Reading

- [JavaDoc class documentation <ExternalLink/>](https://growthbook.github.io/growthbook-sdk-java/)
