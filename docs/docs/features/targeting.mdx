---
title: Feature Flag Targeting
description: Learn about how to target with GrowthBook
sidebar_label: Targeting Attributes
slug: /features/targeting
---

## Targeting Attributes

Feature values can be targeted to specific users or groups of users. In order for this to work, you must pass targeting
attributes into the GrowthBook SDK and also list them in the GrowthBook App.

This is an example of specifying the targeting attributes in the SDK:

```ts
growthbook.setAttributes({
  id: user.id,
  email: user.email,
  country: user.country,
  url: window.location.href,
  userAgent: navigator.userAgent,
  admin: user.isAdmin,
  age: user.age,
});
```

You can update the attributes in the GrowthBook App under **SDK Connections** > **Attributes**:

![List of targeting attributes](/images/edit-targeting-attributes.png)

:::note

The actual values of the targeting attributes (e.g. the user ids, emails, etc.) are never sent to GrowthBook. They are only stored in memory locally within the SDK. This architecture
eliminates huge potential security holes and keeps your user's PII safe and secure.

:::

Each attribute has 3 parts:

- The **attribute name** itself. This is how the attribute will be referenced in the SDK.
- The **data type** of the attribute
- Whether it's an **identifier**. Identifiers are attributes which uniquely identify something - typically either a person, account, company, or device- and are used for experiment assignments.

### Attribute Data Types

GrowthBook supports the following attribute data types:

- Boolean - true or false
- Number - Floats or integers
- String - freeform text
- Enum - When there are only a small list of pre-defined values it could take
- Secure String - Like a string, but the values will be hashed before passing to the SDK
- Array of Strings - useful for things like "tags"
- Array of Numbers - useful anytime you have multiple numeric values
- Array of Secure Strings - an array of secure strings useful for passing multiple values that you want to keep secure

#### Semantic Version Targeting

In version 2.2, we introduced support for semantic version string comparisons. Without this, the string `1.0.9` will be seen as "greater" than `1.0.10`.

To leverage this feature, you first need to create a version string attribute. Navigate to **SDK Configurations > Attributes** and create or edit a String attribute. In the format dropdown, select: **Version string.**

![Version string attribute](/images/targeting-semantic-versions.png)

After saving, the targeting operators (e.g. `is greater than`) will automatically start using a version-safe comparison function.

:::note

This is only supported in some of our SDKs. Check the release notes for the specific SDK you are using to make sure you have a compatible version installed.

:::

## Targeting Conditions

GrowthBook provides a nice UI for defining simple targeting conditions using your attributes.

![Simple targeting conditions](/images/targeting-simple.png)

### Advanced Mode

If you need support for something more advanced you can enter targeting conditions with JSON instead by clicking the "Advanced Mode" link.

The JSON structure is inspired bt the MongoDB Query syntax. Multiple conditions are always joined with `AND` (except when explicitly using `$or`/`$nor`). Below are all of the supported operators with examples.

- Key/value pairs for simple equality
  ```json
  {
    "attribute1": "value1",
    "attribute2": 123,
    "attribute3": false
  }
  ```
- Basic comparison operators for string/number attributes
  - `$eq` (equals)
  - `$ne` (not equals)
  - `$lt` (less than)
  - `$lte` (less than or equal to)
  - `$gt` (greater than)
  - `$gte` (greater than or equal to)
  - `$regex` (regular expression match, string attributes only)
  - `$in` (in array)
  - `$nin` (not in array)
  ```json
  {
    "foo": {
      "$gt": 10,
      "$lte": 99
    },
    "bar": {
      "$in": ["a","b","c"]
    },
    "baz": {
      "$regex": "^test-([0-9]+)$"
    }
  }
  ```
- Comparison operators for semantic version strings (semver):
  - `$veq` (equals)
  - `$vne` (not equals)
  - `$vlt` (less than)
  - `$vlte` (less than or equal to)
  - `$vgt` (greater than)
  - `$vgte` (greater than or equal to)
  ```json
  {
    "appVersion": {
      "$vgt": "1.5.6",
      "$vlte": "5.4.0"
    }
  }
  ```
- Operators for array attributes
  - `$elemMatch` (at least one element must match the specified condition)
  - `$all` (all of the specified values must exist in the array)
  - `$size` (array length must match the specified condition)
  ```json
  {
    "emails": {
      "$elemMatch": {
        "$regex": "@gmail.com$"
      }
    },
    "hobies": {
      "$all": ["hiking","tennis","chess"]
    },
    "tags": {
      "$size": {
        "$gt": 5
      }
    }
  }
  ```
- Misc operators
  - `$exists` (tests if the attribute value is null or not)
  - `$type` (tests if the attribute's type matches the type specified)
  - `$not` (inverts a nested condition)
  ```json
  {
    "alternateEmail": {
      "$exists": true
    },
    "foo": {
      "$type": "string"
    },
    "name": {
      "$not": {
        "$regex": "^J"
      }
    }
  }
  ```
- Logical operators with arbitrary nesting levels
  - `$or`
  - `$nor`
  - `$and`
  - `$not`
  ```json
  {
    "$or": [
      {
        "$not": {
          "foo": "abc"
        }
      },
      {
        "$and": [
          {"bar": true},
          {"baz": 123}
        ]
      }
    ]
  }
  ```

## Saved Groups

GrowthBook lets you save frequently used targeting conditions as **Saved Groups**. When you update a Saved Group, every feature and experiment that references it will automatically sync to the latest value.

![Saved Groups](/images/saved-groups.png)

Once you define your Saved Groups, you can easily reference them from any Feature rule or Experiment.

![Saved Group Targeting](/images/saved-groups-targeting.png)

If you add both Saved Group targeting and Attribute targeting to a Feature rule or Experiment, they both must match (i.e. it combines them with `AND`).
